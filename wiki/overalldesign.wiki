#summary 设计思路

= 指导原则 =

尽可能地降低成本


= 核心系统设计 =

为降低成本，最直接的思路是选择一个低成本的核心系统。根据现有资料，建议的最佳选择是选用高集成度的通用SoC芯片组成系统。目前成本最低的这类芯片是ARM架构的处理器。

在记录仪应用中，廉价8位机，和ARM处理器相比，没有明显的价格优势。这是由于记录仪按照规范必须提供USB接口，因此必须具有USB HOST控制器；而目前已知8位CPU产品中都没有集成USB HOST控制器，因此必须外加USB HOST控制芯片，而一个USB HOST控制芯片的价格一般在25元左右，如果加上5元的CPU，10元左右的外置ROM/RAM芯片，这样核心系统价格在40元左右，和单独的ARM Soc提供的功能基本相同，但性能上却远远低于ARM系统。

所以，目前使用ARM SoC构建记录仪是最经济的选择。如果能找到集成USB HOST控制器的CPU，且价格在25元以下，这样构成的核心系统才有可能和ARM SoC方案竞争。

ARM SoC方案的另一个优势是简化备料工作，它在一块芯片上基本集成了所有需要的功能，简化了系统结构。同时由于生产商众多，不会造成产品对单一生产商的依赖。

在这种设计中，核心系统由一个ARM CPU（ST32F105RC）和NAND FLASH组成。程序的存储使用芯片内部的FALSH内存，外部NAND FALSH只存储数据。

CPU建议选用引脚较少的型号，节省电路板空间，可降低成本。

在软件开发完成后，可根据实际消耗的ROM FLASH和RAM量，适当选用低配置的管脚兼容的CPU型号作为生产用型号，进一步降低成本。

= 信号接口设计 =

建议取消适配器，目前所知适配器仅仅完成信号的并串转换，此功能可以不用。取消适配器后，可以简化系统，节约成本。

输入信号直接接入核心板，通过光电隔离或直接和CPU相连。参考原有适配器设计，信号未使用光电隔离就接入CPU，如果这种设计下，适配器故障率很低，则可以考虑在新设计中也不使用隔离器件。也可以考虑设计两套方案，一套采用光电隔离，作为高端版本使用，一套不使用光电隔离，作为廉价版本使用。

除光电隔离保护外，建议接口信号都提供ESD保护。

= 显示屏设计 =

建议选用接口电压和CPU电压相同的显示屏，避免需要电平转换和额外的电源稳压而增加的成本。

显示屏信号接口建议选用串口驱动的类型，可减少对CPU引脚的需求和布线面积，从而降低成本。

= 电源设计 =

电源设计为9～100V输入，且正负反接仍然可以工作的电路。建议使用TVS管搭建整流桥实现自动极性变换,并同时提供ESD保护。

建议使用MOS开关管构成主动式过压保护电路，保护后端的开关稳压电路。开关稳压电路可以选用较便宜，低耐压值的元件，在不牺牲性能指标的前提下，降低电路部分的总体成本。

所有元件尽可能使用同一电压规格，以避免多路稳压增加成本。

= 其他设计建议 =


建议板上预留1路RS232接口，便于和GPS模块接口，满足今后标准升级。

原有的两键按钮是不错的设计，建议继续使用

建议尽可能使用SMD封装的元件，便于批量生产，并节省电路板空间，以降低成本。


= 小结 =

根据以上设计建议构建的新系统，应该在性能上不低于原有系统，且成本低于源系统。同时具有扩展的空间，如果新国标实施，可以很快增加GPS模块，记录运动轨迹。此方案，虽然为低端应用开发，但可以提供高端性能。
